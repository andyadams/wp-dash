(function(){jQuery(function($){var e,n,t,r,s,u,d,o,i;return n=$("#wp-dash-search-box"),e=$("#wp-dash-results"),t=$("#wp-dash-search"),r=new Fuse(WPDash.posts,{keys:["title"]}),t.on("blur",function(){return s()}),s=function(){return n.fadeOut(200,function(){return t.val(""),e.empty()})},o=function(){return n.fadeIn(200),t.focus()},i=function(){return n.is(":visible")?s():o()},Mousetrap.bind(["command+k","ctrl+k"],i),Mousetrap.bind("esc",function(){return s()}),d=function(){var n;return n=e.find(".selected"),n.prev(".result").length>0?n.removeClass("selected").prev(".result").addClass("selected"):void 0},u=function(){var n;return n=e.find(".selected"),n.next(".result").length>0?n.removeClass("selected").next(".result").addClass("selected"):void 0},t.on("keyup keydown",function(e){return 38===e.keyCode||40===e.keyCode?e.preventDefault():void 0}),t.on("keydown",function(e){return 38===e.keyCode&&d(),40===e.keyCode?u():void 0}),t.on("keyup",function(n){var t,s,u,d,o,i,l;if(38!==n.keyCode&&40!==n.keyCode){if(13===n.keyCode)return t=e.find(".selected a"),void(t.length>0&&t[0].click());for(e.parent().show(),e.empty(),o=r.search($(this).val()),s=1,i=0,l=o.length;l>i;i++)if(d=o[i],u=d.link,e.append('<li class="result"><a href="'+u+'">'+d.title+"</a></li>"),s++,10===s){s=0;break}return e.find("li:first").addClass("selected")}})})}).call(this);